# shellcheck shell=sh

# Aliases library
#

dir="${RCSHARE:-/tmp}/alias"
file="${dir}/alias.sh"

if [ ! -r "${file}" ] || [ "${FORCE-0}" = 0 ]; then
    lib='alias.lib'
  tee "${file}" > /dev/null <<EOF
# Auto generated by: ${lib}

# To update, run either:
#   FORCE=1 . /etc/profile
#   FORCE=1 . ${lib}
#   profile.lib --force
#   ${lib} --force

alias hyperfine='hyperfine --prepare sync'
EOF
fi

if ! alias hyperfine >/dev/null 2>&1; then
  . "${file}"
fi

####################################### Executed: force & parse
#
if test "$#" -ne 0 && test "${PARSED-}"; then
  unset PARSED
  for arg do
    case "${arg}" in
      --force) FORCE=1 . "$0"
    esac
  done
elif test "$#" -ne 0; then
    PARSE="$0" parse "$@"
fi

