# shellcheck shell=sh

# Strict mode library and prepend absolute caller DIRNAME to PATH.
#

set -eu
#IFS=$(printf ' \n\t')

if [ "${BASH_VERSION-}" ]; then
  # shellcheck disable=SC3040
  set -o pipefail
  # shellcheck disable=SC3028,SC3054
  [ ! "${BASH_VERSINFO[0]}" -gt 4 ] || shopt -s inherit_errexit
fi

####################################### Executed: force & parse
#
if echo "$0" | grep -q 'strict.lib'; then
  if test "$#" -ne 0 && test "${1-}" = '--parsed' && shift; then
    unset PARSE PARSED
    case "$1" in
      --force) shift; PROFILE=0 . profile.lib
    esac
  else
    STRICT=0 . helpers.lib  # Avoid recursion: STRICT=0
    PARSE="$0" parse "$@"
  fi
fi
