#!/bin/sh

####################################### âœ“ err: exported function
# Show error message with x symbol in red
# Globals:
#   Red                 Red color for error message and x symbol.
#   Reset               Reset color.
# Arguments:
#   -h, --help          Show help message and exit.
#   Message             Message to show in red with x symbol.
# Output:
#   Message to stderr or help message to stdout.
#######################################
# shellcheck disable=SC3044
helpin "${@}" || exit 1
if hasc caller; then
  c="$(caller 0)"
  if [ "$(echo "${c}" | awk '{ print $2 }')" = "die" ]; then c="$(caller 1)"; fi
  add="${RedDim}$(basename "$(echo "${c}" | awk '{ print $3 }')")[$(echo "${c}" | awk '{ print $1 }')]${Reset} "
fi
printf '%b\n' "${Red}x${Reset} ${add}${Red}$*${Reset}" >&2
unset add c

