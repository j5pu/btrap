repos:
  - repo: local
    hooks:
      - id: arguments
        name: create-arguments-csv
        description: create arguments to be parsed (value if argument could expect a value)
        entry: |
          bash -c "root=$(pwd);
          repo=${root##*/};
          compat=${repo}.d;
          file=arguments.csv;
          user=$( git user );
          branch=$( git remote-branch-default );
          printf '' > ${file};
          for i in arguments.d/??-*.sh; do
            base=$( basename ${i} .sh )
            name=$( awk -F  '-' '{ print $2 }' <<< ${base} )
            value=$( awk -F  '-' '{ print $3 }' <<< ${base} )
            echo \"--${name},${name},${i},https://raw.githubusercontent.com/${user}/${repo}/${branch}/${i},${value}\" \
              >> $file
          done;
          git add ${file}"
        language: system
        stages:
          - commit
        pass_filenames: false
