# shellcheck shell=sh

# <html><h2>Admin User</h2>
# <p><strong><code>$ADMIN</code></strong> (Default: unset).</p>
# <p>Set if the user can write in directory owned by root. $SUDO variable will be set if sudo command.</p>
# </html>
export ADMIN

# <html><h2>Admin User Password</h2>
# <p><strong><code>$ADMINPASS</code></strong>) (Default: unset).</p>
# <p>User admin password. $SUDO variable will be set if sudo command.</p>
# </html>
ADMINPASS=''

# <html><h2>Sudo Command</h2>
# <p><strong><code>$SUDO</code></strong> (Default: /usr/bin/sudo).</p>
# <p>Contains the sudo command if sudo installed in the system.</p>
# </html>
export SUDO=/usr/bin/sudo

admin() {
  if [ -w /etc ]; then
    ADMIN=1
    unset SUDO
  elif ${SUDO} [ -w /etc ]; then
    ADMIN=1
  fi
  elif [ "${ADMINPASS-}" ]; then
    echo "${ADMINPASS}" | ${SUDO} tee /etc/adminpass >/dev/null
    sudoers
  elif [ -f /etc/adminpass ]; then
    adminpass
    sudoers
  fi
}

adminpass() { ADMINPASS="$(cat /etc/adminpass)"; }

sudoers() {
  :
}

if [ "${FORCE-}" ]; then
  adminpass
  sudoers
fi
